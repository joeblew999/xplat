version: '3'

# =============================================================================
# xplat - Cross-Platform Taskfile Bootstrapper
# =============================================================================
# Auto-generated from xplat commands. Do not edit directly.
# Regenerate with: xplat docs taskfile
# =============================================================================

vars:
  BIN_INSTALL_DIR: '{{if eq OS "windows"}}{{.HOME}}/bin{{else}}{{.HOME}}/.local/bin{{end}}'
  XPLAT_BIN: '{{.BIN_INSTALL_DIR}}/xplat{{exeExt}}'

tasks:
  default:
    desc: Show available tasks
    cmds:
      - task --list

  build:
    desc: Build xplat binary
    cmds:
      - go build -o xplat{{exeExt}} ./cmd/xplat/

  build:install:
    desc: Build and install xplat to ~/.local/bin
    cmds:
      - mkdir -p "{{.BIN_INSTALL_DIR}}"
      - go build -o "{{.XPLAT_BIN}}" ./cmd/xplat/

  test:
    desc: Run tests
    cmds:
      - go test ./... -v

  fmt:
    desc: Format code
    cmds:
      - go fmt ./...

  lint:
    desc: Lint code
    cmds:
      - go vet ./...

  clean:
    desc: Clean build artifacts
    cmds:
      - rm -f xplat xplat.exe
      - rm -rf .task/

  docs:
    desc: Regenerate README.md and Taskfile.yml from code
    cmds:
      - ./xplat docs all

  # ===========================================================================
  # xplat Command Wrappers
  # ===========================================================================

  xplat:archetype:
    desc: "Taskfile archetype operations"
    cmds:
      - ./xplat archetype {{.CLI_ARGS}}

  xplat:binary:
    desc: "Binary management commands"
    cmds:
      - ./xplat binary {{.CLI_ARGS}}

  xplat:cat:
    desc: "Print file contents"
    cmds:
      - ./xplat cat {{.CLI_ARGS}}

  xplat:cp:
    desc: "Copy files or directories"
    cmds:
      - ./xplat cp {{.CLI_ARGS}}

  xplat:dev:
    desc: "Development workflow shortcuts"
    cmds:
      - ./xplat dev {{.CLI_ARGS}}

  xplat:docs:
    desc: "Generate documentation from xplat commands"
    cmds:
      - ./xplat docs {{.CLI_ARGS}}

  xplat:env:
    desc: "Get environment variable"
    cmds:
      - ./xplat env {{.CLI_ARGS}}

  xplat:extract:
    desc: "Extract archives (zip, tar.gz, tar.bz2, tar.xz, 7z, rar)"
    cmds:
      - ./xplat extract {{.CLI_ARGS}}

  xplat:fetch:
    desc: "Download files with optional archive extraction"
    cmds:
      - ./xplat fetch {{.CLI_ARGS}}

  xplat:fmt:
    desc: "Format Taskfiles"
    cmds:
      - ./xplat fmt {{.CLI_ARGS}}

  xplat:glob:
    desc: "Expand glob pattern"
    cmds:
      - ./xplat glob {{.CLI_ARGS}}

  xplat:jq:
    desc: "Process JSON with jq syntax"
    cmds:
      - ./xplat jq {{.CLI_ARGS}}

  xplat:lint:
    desc: "Lint Taskfiles for convention violations"
    cmds:
      - ./xplat lint {{.CLI_ARGS}}

  xplat:mkdir:
    desc: "Create directories"
    cmds:
      - ./xplat mkdir {{.CLI_ARGS}}

  xplat:mv:
    desc: "Move or rename files and directories"
    cmds:
      - ./xplat mv {{.CLI_ARGS}}

  xplat:pkg:
    desc: "Package management from Ubuntu Software registry"
    cmds:
      - ./xplat pkg {{.CLI_ARGS}}

  xplat:process:
    desc: "Process orchestration (embedded process-compose)"
    cmds:
      - ./xplat process {{.CLI_ARGS}}

  xplat:process-gen:
    desc: "Generate process-compose.yaml from package registry"
    cmds:
      - ./xplat process-gen {{.CLI_ARGS}}

  xplat:release:
    desc: "Release build orchestration"
    cmds:
      - ./xplat release {{.CLI_ARGS}}

  xplat:rm:
    desc: "Remove files or directories"
    cmds:
      - ./xplat rm {{.CLI_ARGS}}

  xplat:run:
    desc: "Run a managed tool"
    cmds:
      - ./xplat run {{.CLI_ARGS}}

  xplat:task:
    desc: "Run Taskfile tasks (embedded Task runner)"
    cmds:
      - ./xplat task {{.CLI_ARGS}}

  xplat:test:
    desc: "Test a Taskfile based on its archetype"
    cmds:
      - ./xplat test {{.CLI_ARGS}}

  xplat:touch:
    desc: "Create files or update timestamps"
    cmds:
      - ./xplat touch {{.CLI_ARGS}}

  xplat:version:
    desc: "Print xplat version"
    cmds:
      - ./xplat version {{.CLI_ARGS}}

  xplat:which:
    desc: "Find binary in managed locations or PATH"
    cmds:
      - ./xplat which {{.CLI_ARGS}}


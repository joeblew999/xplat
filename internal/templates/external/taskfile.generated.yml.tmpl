# Generated by: xplat gen taskfile
# Regenerate with: xplat gen taskfile
#
# This file includes remote taskfiles from installed xplat packages.
# Install packages with: xplat pkg install <package>

version: "3"

vars:
  # Use installed xplat binary (from GitHub releases or local build)
  XPLAT: xplat

{{if .Includes}}includes:
{{range .Includes}}  {{.Namespace}}:
    taskfile: {{.URL}}
{{end}}
{{end}}tasks:
  default:
    desc: List available tasks
    cmds:
      - task --list

  # ===========================================================================
  # Service Commands (front and center!)
  # ===========================================================================
  # Start xplat as a system service with all features enabled:
  #   - Process orchestration (process-compose)
  #   - Task UI web dashboard
  #   - MCP HTTP server for AI IDE integration

  up:
    desc: "Start xplat service with UI + MCP (recommended)"
    cmds:
      - "{{"{{"}} .XPLAT {{"}}"}} service start --with-ui --with-mcp"

  up:ui:
    desc: "Start xplat service with UI only"
    cmds:
      - "{{"{{"}} .XPLAT {{"}}"}} service start --with-ui"

  up:mcp:
    desc: "Start xplat service with MCP only"
    cmds:
      - "{{"{{"}} .XPLAT {{"}}"}} service start --with-mcp"

  up:minimal:
    desc: "Start xplat service (process-compose only)"
    cmds:
      - "{{"{{"}} .XPLAT {{"}}"}} service start"

  down:
    desc: "Stop xplat service"
    cmds:
      - "{{"{{"}} .XPLAT {{"}}"}} service stop"

  status:
    desc: "Show xplat service status"
    cmds:
      - "{{"{{"}} .XPLAT {{"}}"}} service status"

  restart:
    desc: "Restart xplat service"
    cmds:
      - "{{"{{"}} .XPLAT {{"}}"}} service restart"
